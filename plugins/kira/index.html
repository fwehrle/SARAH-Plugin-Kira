<html><body><h1>Documentation Plugin Kira pour SARAH</h1><br>auteur : Franck Wehrlé<br>date : 18/02/2014<br>version : 1.0<br><br><br>1. CONFIGURATION <br>2. DESCRIPTEUR DE PERIPHERIQUES (periph.xml)<br>3. CHANGELOG<br>4. REMERCIEMENTS<br> <br> <br><b>1.   CONFIGURATION </b><br> <br> <br>Les informations nécessaires au bon fonctionnement du plugin sont à renseigner dans le paramétrage du plugin.<br>Il est donc indispensable de renseigner ces 2 éléments :<br><li>ip_lan</li>Permet d'envoyer des requêtes directement au module Kira via le réseau local. Il suffit pour cela d'indiquer l'adresse IP locale du serveur, par exemple : 192.168.0.10<br>ATTENTION : si vous avez mis un Login/Password dans la sécurité du serveur web de la Kira, il faudra les ajouter à l'IP de la manière suivante : login:mdp@192.168.0.10<br><li>port</li>Ce paramètre permet de préciser le port du serveur de la Kira (8080 par défaut).<br> <br> <br><b>2.   DESCRIPTEUR DE COMMANDES (periph.xml)</b><br> <br>La configuration des commandes infrarouges passe par un fichier externe : periph.xml.<br>Celui ci permet d'associer un code de commande (ex. : TV_ON) à un bouton de la Kira (BUTTON001) et de les utiliser ensuite de façon simple dans le reste du plugin, sans avoir à manipuler le code javascript.<br>Voici un exemple de configuration :<br> <br> <i>&lt;?xml version="1.0" encoding="UTF-8"?&gt;<br>&lt;peripheriques&gt;<br>&lt;periph nom="ampli_onoff" number="001"/&gt;<br>&lt;periph nom="ampli_vol_up" number="002"/&gt;<br>&lt;periph nom="ampli_vol_down" number="002"/&gt;<br>&lt;/peripheriques&gt;<br></i> <br>L’attribut <b>« nom »</b> de la balise <periph> correspond à l’identifiant de la commande qu'on retrouvera dans le fichier de grammaire. Il doit donc être unique ici. C’est a partir de ce nom que l’on pourra récupérer le reste des attributs.<br> <br>L’attribut <b>« number »</b> correspond,  comme son nom l’indique, au numéro de bouton de la kira.Il est impératif de numéroter sur 3 caractères et on peut aller de 001 à 128. Cette information sera utilisée dans la code javascript pour construire l’URL appelée.<br>Ainsi, il suffira de préciser le nom de la commande dans le fichier de grammaire kira.xml<br>2 autres tags peuvent être ajoutés au besoin : <br>repeat (=1, 2, 3...) : permet de répéter une commande plusieurs fois (valeur numérique). La commande est lancée une fois si le paramètre est omis.<br>notts (=true) : permet de ne pas vocaliser le retour de SARAH (pour lancement du plugin depuis un autre, par ex.)<br><br><b>3.   CHANGELOG</b><br><br><b>version 1.0 (18/02/2014)</b><br>Version initiale du plugin<br><br><b>4.   REMERCIEMENTS</b><br><br>Jean-Philippe ENCAUSSE -> Pour SARAH et la communauté<br>Michel REQUIER -> Beaucoup inspiré de son plugin Domoticz :)<br></body></html>